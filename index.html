<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Celebrar ðŸŒˆ | Eventos LGBTQIA+</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <header class="rainbow-header">
    <h1 class="display-4 fw-bold">Celebrar ðŸŒˆ</h1>
    <p class="lead">Planejamento de Eventos Virtuais para a Comunidade LGBTQIA+</p>
  </header>

  <!-- MENU DE NAVEGAÃ‡ÃƒO -->
  <nav id="menu" class="d-none navbar navbar-expand-lg navbar-light bg-light">
    <a class="nav-link" href="#" onclick="UI.showSection('home', event)">InÃ­cio</a>
    <a class="nav-link" href="#" onclick="UI.showSection('agendamento', event)">Agendar Evento</a>
    <a class="nav-link" href="#" onclick="UI.showSection('listar', event)">Meus Agendamentos</a>
    <a class="nav-link" href="#" onclick="UI.showSection('eventosPublicos', event)">Eventos PÃºblicos</a>
    <a class="nav-link text-danger" href="#" onclick="logoutUsuario()">Sair</a>
  </nav>

  <main class="container my-5">
    
    <!-- SeÃ§Ã£o: InÃ­cio -->
    <div id="home" class="fade-in">
      <div class="text-center">
        <img src="https://cdn.shopify.com/s/files/1/0469/4500/9826/files/banner_blog_novo_6.jpg?v=1687284218" 
             class="img-fluid rounded shadow mb-4" 
             alt="Evento LGBTQIA+" 
             style="max-height: 400px; object-fit: cover;">
        <h2 class="fw-bold">Celebre com Orgulho</h2>
        <p class="lead">Organize eventos inclusivos, autÃªnticos e cheios de diversidade. Do seu jeito, com amor e orgulho.</p>
      </div>
    </div>

    <!-- SeÃ§Ã£o: Agendamento -->
    <div id="agendamento" class="d-none fade-in">
      <h2 class="mb-4 text-center text-primary">Agendar Evento</h2>
      <form id="formAgendar">
        <div class="mb-3">
          <label class="form-label">Nome do Evento</label>
          <input type="text" class="form-control" name="evento" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Data</label>
          <input type="date" class="form-control" name="data" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Hora</label>
          <input type="time" class="form-control" name="hora" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Plataforma</label>
          <input type="text" class="form-control" name="plataforma" required>
        </div>
        <button type="submit" class="btn btn-pink w-100">Agendar</button>
      </form>
    </div>

    <!-- SeÃ§Ã£o: Listar Agendamentos -->
    <div id="listar" class="d-none fade-in">
      <h2 class="mb-4 text-center text-primary">Meus Agendamentos</h2>
      <div class="table-responsive">
        <table class="table table-striped table-hover shadow">
          <thead class="table-dark">
            <tr>
              <th>Evento</th>
              <th>Data</th>
              <th>Hora</th>
              <th>Plataforma</th>
              <th>AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody id="tabelaAgendamentos">
            <tr><td colspan="5" class="text-center text-muted">Nenhum agendamento ainda.</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- SeÃ§Ã£o: Eventos PÃºblicos -->
    <div id="eventosPublicos" class="d-none fade-in">
      <h2 class="mb-4 text-center text-primary">Eventos PÃºblicos</h2>
      <div class="table-responsive">
        <table class="table table-striped table-hover shadow">
          <thead class="table-dark">
            <tr>
              <th>Evento</th>
              <th>Data</th>
              <th>Hora</th>
              <th>Plataforma</th>
              <th>Criador</th>
              <th>AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody id="tabelaEventosPublicos">
            <tr><td colspan="6" class="text-center text-muted">Nenhum evento pÃºblico disponÃ­vel.</td></tr>
          </tbody>
        </table>
      </div>
    </div>

  </main>

  <footer>
    &copy; 2025 Celebrar ðŸŒˆ â€“ Todos os direitos reservados com amor.
  </footer>

  <script src="EventService.js"></script>
  <script src="auth.js"></script>
  <script src="UI.js"></script>

  <script>
    // âœ… ProteÃ§Ã£o de rota: sÃ³ entra se estiver logado
    const usuarioAtual = JSON.parse(localStorage.getItem('usuarioAtual'));

    if (!usuarioAtual) {
      // NÃ£o logado â†’ redireciona para login
      window.location.href = 'login.html';
    }

    // âœ… Logout
    function logoutUsuario() {
      localStorage.removeItem('usuarioAtual');
      alert('Logout realizado com sucesso!');
      window.location.href = 'login.html';
    }

    // âœ… InicializaÃ§Ã£o do app
    document.addEventListener('DOMContentLoaded', () => UI.init());
  </script>

</body>
</html>
